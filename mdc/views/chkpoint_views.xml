<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="chkpoint_list">
        <html>
            <head>
                <title>Checkpoint list - MDC CP</title>
                <script language="JavaScript" src="/mdc/static/src/js/jquery-3.3.1.min.js"></script>
            </head>
            <body>
                <div>MCD CP: <a href="/mdc/cp/list">Home</a> | <a href="/mdc/cp/cardreg">Card registration</a></div>
                <hr/>
                List of available checkpoints:
                <ul>
                    <li t-foreach="chkpoints" t-as="chkpoint">
                        <a t-attf-href="/mdc/cp/{{chkpoint.chkpoint_categ.lower()}}/{{chkpoint.id}}">
                            <t t-esc="chkpoint.name"></t>
                        </a>
                    </li>
                </ul>
            </body>
        </html>
    </template>


    <template id="chkpoint_win">
        <html>
            <head>
                <title>WIN - MDC CP</title>
                <script language="JavaScript" src="/mdc/static/src/js/jquery-3.3.1.min.js"></script>
                <script language="JavaScript" src="/mdc/static/src/js/cp_win.js"></script>
            </head>
            <body>
                <div>MCD CP: <a href="/mdc/cp/list">Home</a> | <a href="/mdc/cp/cardreg">Card registration</a></div>
                <hr/>
                <t t-foreach="chkpoints" t-as="chkpoint">
                    <input type="hidden" id="session_id" t-attf-value="{{session_id}}"/>
                    <input type="hidden" id="rfid_reader_code" t-attf-value="{{chkpoint.rfid_reader_id.device_code}}"/>
                    <input type="hidden" id="chkpoint_id" t-attf-value="{{chkpoint.id}}"/>

                    <h1 id="lot"></h1>

                    Lot: <span id="lot"></span>
                    <br></br>
                    Last card read: <span id="last_card_read"></span>
                    <br></br>
                    Last weight: <span id="last_weight"></span>
                    <p/>
                    <span id="message">Waiting for card read...</span>
                </t>
            </body>
        </html>
    </template>

    <template id="chkpoint_card_registration">
        <html>
            <head>
                <title>Card registration - MDC CP</title>
                <script language="JavaScript" src="/mdc/static/src/js/jquery-3.3.1.min.js"></script>
                <script language="JavaScript" src="/mdc/static/src/js/cp_card_registration.js"></script>
            </head>
            <body>
                <div>MCD CP: <a href="/mdc/cp/list">Home</a> | <a href="/mdc/cp/cardreg">Card registration</a></div>
                <hr/>
                <div>
                    Device:
                    <select>
                        <option value="" selected="selected">Select a device...</option>
                        <t t-foreach="devices" t-as="device">
                            <option t-attf-value="{{device.device_code}}">
                                <t t-esc="device.name"></t>
                            </option>
                        </t>
                    </select>
                </div>
                <div>
                    Card category:
                    <select>
                        <option value="" selected="selected">Select a category...</option>
                        <t t-foreach="card_categs" t-as="card_categ">
                            <option t-attf-value="{{card_categ.id}}">
                                <t t-esc="card_categ.name"></t>
                            </option>
                        </t>
                    </select>
                </div>
                <div>
                    Employee:
                    <select>
                        <option value="" selected="selected">Select an employee...</option>
                        <t t-foreach="employees" t-as="employee">
                            <option t-attf-value="{{employee.id}}">
                                <t t-esc="employee.employee_code"></t>
                            </option>
                        </t>
                    </select>
                </div>
                <div>
                    Workstation:
                    <select>
                        <option value="" selected="selected">Select a workstation...</option>
                        <t t-foreach="workstations" t-as="workstation">
                            <option t-attf-value="{{workstation.id}}">
                                <t t-esc="workstation.name"></t>
                            </option>
                        </t>
                    </select>
                </div>
            </body>
        </html>
    </template>
</odoo>